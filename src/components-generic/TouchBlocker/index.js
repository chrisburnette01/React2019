/* eslint-disable */
function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t}).apply(this,arguments)}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),n.forEach(function(e){_defineProperty(t,e,o[e])})}return t}function _objectWithoutProperties(t,e){if(null==t)return{};var o,n,i=_objectWithoutPropertiesLoose(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)o=r[n],e.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(t,o)&&(i[o]=t[o])}return i}function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var o,n,i={},r=Object.keys(t);for(n=0;n<r.length;n++)o=r[n],e.indexOf(o)>=0||(i[o]=t[o]);return i}function _defineProperty(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}import React from"react";class TouchBlocker extends React.Component{constructor(...t){super(...t),_defineProperty(this,"divRef",null),_defineProperty(this,"isTouching",!1),_defineProperty(this,"touchStartPoint",null),_defineProperty(this,"handleTouchStart",t=>{this.props.onSwipe&&(this.isTouching=!0,t&&t.touches&&t.touches.length&&(this.touchStartPoint=t.touches[0])),(null==this.props.isBlock||this.props.isBlock)&&t.stopPropagation()}),_defineProperty(this,"handleTouchMove",t=>{if(this.props.onSwipe&&this.isTouching&&this.touchStartPoint&&t.touches&&t.touches.length){const e=t.touches[0];if(null!=e.screenX&&null!=e.screenY&&null!=this.touchStartPoint.screenX&&null!=this.touchStartPoint.screenY){const t=e.screenX-this.touchStartPoint.screenX,o=e.screenY-this.touchStartPoint.screenY,n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,{threshold:r=5}=this.props;Math.abs(t)>n/100*r&&(this.props.onSwipe(t>0?"right":"left",t),this.isTouching=!1),Math.abs(o)>i/100*r&&(this.props.onSwipe(o>0?"down":"up",o),this.isTouching=!1)}}(null==this.props.isBlock||this.props.isBlock)&&t.stopPropagation()}),_defineProperty(this,"handleTouchEnd",t=>{this.props.onSwipe&&(this.isTouching=!1,this.touchStartPoint=null),(null==this.props.isBlock||this.props.isBlock)&&t.stopPropagation()}),_defineProperty(this,"handleTouchCancel",t=>{this.props.onSwipe&&(this.isTouching=!1,this.touchStartPoint=null),(null==this.props.isBlock||this.props.isBlock)&&t.stopPropagation()}),_defineProperty(this,"handleMouseScroll",t=>{this.props.isBlockMouseScroll&&t.stopPropagation()})}componentDidMount(){this.divRef&&(this.divRef.addEventListener("touchstart",this.handleTouchStart),this.divRef.addEventListener("touchmove",this.handleTouchMove),this.divRef.addEventListener("touchend",this.handleTouchEnd),this.divRef.addEventListener("touchcancel",this.handleTouchCancel),this.divRef.addEventListener("wheel",this.handleMouseScroll))}componentWillUnmount(){this.divRef&&(this.divRef.removeEventListener("touchstart",this.handleTouchStart),this.divRef.removeEventListener("touchmove",this.handleTouchMove),this.divRef.removeEventListener("touchend",this.handleTouchEnd),this.divRef.removeEventListener("touchcancel",this.handleTouchCancel),this.divRef.removeEventListener("wheel",this.handleMouseScroll))}render(){const t=this.props,{children:e,style:o,onSwipe:n,threshold:i,isBlock:r,isBlockMouseScroll:s,onTouchStart:h,onTouchEnd:c,onTouchMove:l,onTouchCancel:u}=t,p=_objectWithoutProperties(t,["children","style","onSwipe","threshold","isBlock","isBlockMouseScroll","onTouchStart","onTouchEnd","onTouchMove","onTouchCancel"]);return React.createElement("div",_extends({className:"touch-blocker",style:_objectSpread({flex:"1 1 auto",display:"flex",width:"100%",height:"100%"},o),ref:t=>{this.divRef=t}},p),this.props.children)}}export default TouchBlocker;
